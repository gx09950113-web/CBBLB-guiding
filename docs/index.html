<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>錢包比臉薄｜百業首頁</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body class="page-home">
  <!-- 背景音樂 -->
  <audio id="bgm" preload="auto" loop playsinline>
    <source src="assets/sounds/index.mp3" type="audio/mpeg" />
  </audio>

  <!-- LOGO 置中置頂 -->
  <header class="top-logo">
    <img class="logo-main" src="assets/img/WTTF-LOGO.png" alt="錢包比臉薄 LOGO" />

    <div class="top-actions">
      <button id="muteBtn" class="btn btn-ghost" type="button" aria-pressed="false" title="靜音 / 取消靜音">
        🔊 聲音：開
      </button>
    </div>
  </header>

  <main class="container">
    <section class="card hero">
      <h1 class="title">錢包比臉薄</h1>
      <p class="subtitle">大亞洲地區玩家歡迎，請以中文為主進行交流。</p>

      <div class="divider"></div>

      <div class="intro">
        <p>每週貨運做好做滿，掛在駐地閒聊瞎晃，搞搞活躍度。</p>
        <p><strong>百業派對 22：00 開始。</strong></p>

        <ul class="rules">
          <li><strong>3 天未上線</strong> → 列入觀察。</li>
          <li><strong>7 天未上線</strong> → 直接踢。</li>
          <li><strong>連續兩周活躍度不足 1000 以上</strong> → 直接踢。</li>
        </ul>
      </div>

      <p id="autoplayHint" class="hint" hidden>
        ⚠️ 你的瀏覽器阻擋自動播放。點一下頁面或按「聲音：開」即可開始播放。
      </p>
    </section>

    <nav class="navgrid" aria-label="主要導覽">
      <a class="navbtn" href="index.html">首頁</a>
      <a class="navbtn" href="philosophy.html">百業理念</a>
      <a class="navbtn" href="members.html">活躍成員</a>
      <a class="navbtn" href="events.html">荷包活動</a>
      <a class="navbtn" href="schedule.html">百業行程</a>
      <a class="navbtn" href="links.html">外部連結</a>
    </nav>
  </main>

  <footer class="footer">
    <small>© 錢包比臉薄</small>
  </footer>

  <script>
    (() => {
      const audio = document.getElementById("bgm");
      const muteBtn = document.getElementById("muteBtn");
      const hint = document.getElementById("autoplayHint");

      // 0~1 線性音量，使用 0.15 作為「偏小聲」預設
      audio.volume = 0.15;

      function setMuted(isMuted) {
        audio.muted = isMuted;
        muteBtn.setAttribute("aria-pressed", String(isMuted));
        muteBtn.textContent = isMuted ? "🔇 聲音：關" : "🔊 聲音：開";
      }

      setMuted(false);

      async function tryAutoplay() {
        try {
          await audio.play();
          hint.hidden = true;
        } catch (e) {
          hint.hidden = false;
        }
      }

      muteBtn.addEventListener("click", async () => {
        setMuted(!audio.muted);
        try {
          await audio.play();
          hint.hidden = true;
        } catch (e) {
          hint.hidden = false;
        }
      });

      document.addEventListener("pointerdown", async () => {
        if (audio.paused) {
          try {
            await audio.play();
            hint.hidden = true;
          } catch (e) {
            hint.hidden = false;
          }
        }
      }, { once: true });

      tryAutoplay();
    })();
  </script>
</body>
</html>
